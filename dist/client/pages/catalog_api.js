(()=>{"use strict";var e={702:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.display_pagination=function(e,t,a){if(Array.from(a.children).forEach((function(e){return e.remove()})),!(t<2)&&t){var n=e||1,o=[];1!==n&&o.push("prev"),o.push(1);for(var d=-3;d<=3;d++){var i=n+d;-3===d&&i>2||3===d&&i<t-1?o.push("..."):i>=2&&i<t&&o.push(i)}o.push(t),n!==t&&o.push("next"),o.length<=1?a.style.display="none":o.forEach((function(e){var o;switch(e){case n:(o=new r.HTML_ELEM("p")).addAttribute("id","page_current"),o.addText(e);var d=o.addElement("span");d.addAttribute("data-pagination-responsive","mobile"),d.addText("/".concat(t));break;case"...":(o=new r.HTML_ELEM("p")).addAttribute("data-pagination-responsive","desktop"),o.addText(e);break;default:if((o=new r.HTML_ELEM("button")).addClass("button"),o.addClass("button_pagination"),o.addAttribute("type","button"),o.addAttribute("data-page-value",e),"prev"==e||"next"==e){var i=o.addElement("i");i.addClass("fa-solid"),"prev"==e?i.addClass("fa-chevron-left"):i.addClass("fa-chevron-right")}else o.addText(e),o.addAttribute("data-pagination-responsive","desktop")}a.appendChild(o.getElement())}))}};var r=a(590)},865:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.display_results=function(e,t,a){if(Array.from(a.children).forEach((function(e){e.remove()})),0===e.length){var n=new r.HTML_ELEM("p");return n.addText("Nothing Here"),void a.appendChild(n.getElement())}e.forEach((function(e){var n=new r.HTML_ELEM("article");n.addAttribute("data-product-card","small");var o=n.addElement("a");o.addClass("image_container"),o.addAttribute("href","/product/".concat(e._id)),o.addElement("img").addAttribute("src","/public/img/products-images/".concat(e.listing[0].images[0]));var d=n.addElement("div");d.addClass("text_container");var i=d.addElement("p");i.addClass("text_container_header");var s=i.addElement("a");s.addAttribute("href","/catalog?category=".concat(e.category_id)),s.addText("".concat(e.category_name[t])),i.getElement().appendChild(document.createTextNode(" / "));var c=i.addElement("a");c.addAttribute("href","/catalog?brand=".concat(e.brand_id)),c.addText("".concat(e.brand_name));var u=d.addElement("h3").addElement("a");u.addText("".concat(e.product_name[t])),u.addAttribute("href","/product/".concat(e._id));var l=d.addElement("a");l.addClass("product_card_price_tag"),l.addAttribute("href","/product/".concat(e._id));var p=l.addElement("p");if(p.addClass("price_sell"),p.addText("".concat(e.listing[0].format_price_discounted)),e.listing[0].discount_percent>0){var f=l.addElement("p");f.addClass("price_discount");var m=f.addElement("span");m.addClass("price_before"),m.addText("".concat(e.listing[0].format_price));var _=f.addElement("span");_.addClass("discount_percent"),_.addText("".concat(Math.round(100*e.listing[0].discount_percent),"%"))}var h=d.addElement("p");h.addClass("product_card_description"),h.addText("".concat(e.description[t]));var v=d.addElement("ul");v.addClass("product_card_tags"),e.tag_array.forEach((function(e){var a=v.addElement("li").addElement("a");a.addText(e.tag_name[t]),a.addAttribute("href","/catalog?selected_tags=".concat(e.tag_id))})),a.appendChild(n.getElement())}))};var r=a(590)},590:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.HTML_ELEM=function e(t){var a=document.createElement(t);this.addElement=function(t){var r=new e(t);return a.appendChild(r.getElement()),r},this.addClass=function(e){a.classList.add(e)},this.addAttribute=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;t?a.setAttribute(e,t):a.setAttribute(e,"")},this.addText=function(e){a.textContent=e},this.addStyle=function(e,t){a.style[e]=t},this.getElement=function(){return a}}}},t={};function a(r){var n=t[r];if(void 0!==n)return n.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,a),o.exports}(()=>{var e=a(865),t=a(702);function r(e,t){if(e){if("string"==typeof e)return n(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?n(e,t):void 0}}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}var o=!0;Object.keys(quick_query).length>=1?(search_query=quick_query,o=!1,JSON.parse(sessionStorage.getItem("search_session")).sort_option&&(search_query.sort_option=JSON.parse(sessionStorage.getItem("search_session")).sort_option),search_query.selected_tags&&(search_query.selected_tags=[search_query.selected_tags])):search_query=JSON.parse(sessionStorage.getItem("search_session"))||{};var d=function(e){if(search_query.hasOwnProperty(e))switch(e){case"name":document.querySelector("input[name='".concat(e,"']")).value=search_query[e];break;case"sort_option":case"category":case"brand":var t=document.querySelector("select[name='".concat(e,"']")),a=Array.from(t.options).findIndex((function(t){return t.value===search_query[e]}));t.selectedIndex=a;break;case"discount":case"featured":document.querySelector("input[name='".concat(e,"']")).checked=search_query[[e]]}};for(var i in search_query)d(i);var s,c=document.documentElement.getAttribute("lang"),u=document.getElementById("catalog_search_form"),l=Array.from(u.querySelectorAll("input[name], select")),p=document.getElementById("product_result"),f=document.getElementById("pagination"),m="sendToAPI",_=!1,h=!1;function v(){var a,n,d,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,l={},m=function(e,t){var a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=r(e))){a&&(e=a);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var d,i=!0,s=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return i=e.done,e},e:function(e){s=!0,d=e},f:function(){try{i||null==a.return||a.return()}finally{if(s)throw d}}}}(new FormData(u).entries());try{for(m.s();!(a=m.n()).done;){var _=(n=a.value,d=2,function(e){if(Array.isArray(e))return e}(n)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var r,n,o,d,i=[],s=!0,c=!1;try{if(o=(a=a.call(e)).next,0===t){if(Object(a)!==a)return;s=!1}else for(;!(s=(r=o.call(a)).done)&&(i.push(r.value),i.length!==t);s=!0);}catch(e){c=!0,n=e}finally{try{if(!s&&null!=a.return&&(d=a.return(),Object(d)!==d))return}finally{if(c)throw n}}return i}}(n,d)||r(n,d)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),v=_[0],g=_[1];switch(v){case"price_range_min":g!=search_fields.price_range.min&&(l[v]=g);break;case"price_range_max":g!=search_fields.price_range.max&&(l[v]=g);break;case"selected_tags":l[v]?l[v].push(g):l[v]=[g];break;default:""!=g&&(l[v]=g)}}}catch(e){m.e(e)}finally{m.f()}l.items_per_page=12,"number"==typeof i?(s=i,l.active_page=i):s=1,function(a){var r=new XMLHttpRequest;r.open("POST","/catalog"),r.setRequestHeader("Content-Type","application/json;charset=UTF-8"),r.onload=function(){if(200===r.status){o?(sessionStorage.removeItem("search_session"),sessionStorage.setItem("search_session",JSON.stringify(a))):o=!0;var n=JSON.parse(r.responseText),d=Math.ceil(n.api_results[0].results_total/12)||1;(0,e.display_results)(n.api_results[0].results_arr,c,p),(0,t.display_pagination)(s,d,f),h&&(p.scrollIntoView({behavior:"smooth",block:"start"}),h=!1)}else console.error(r.statusText)},r.onerror=function(){console.error(r.statusText)},r.send(JSON.stringify(a))}(l)}function g(e,t){var a;return function(){for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];clearTimeout(a),a=setTimeout((function(){e.apply(void 0,n),_=!1}),t)}}l.forEach((function(e){e.addEventListener(m,g(v,500)),e.addEventListener("input",(function(){_||(_=!0,e.dispatchEvent(new Event(m)))}))})),f.addEventListener("click",(function(e){if(e.target.matches(".button_pagination")){if(!s)return;switch(e.target.dataset.pageValue){case"prev":if(s<=1)return;s--;break;case"next":s++;break;default:s=+e.target.dataset.pageValue}g(v(s),500),h=!0}})),document.addEventListener("DOMContentLoaded",g(v,500))})()})();