(()=>{"use strict";var e,t,r,n,o={590:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.HTML_ELEM=function e(t){var r=document.createElement(t);this.addElement=function(t){var n=new e(t);return r.appendChild(n.getElement()),n},this.addClass=function(e){r.classList.add(e)},this.addAttribute=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;t?r.setAttribute(e,t):r.setAttribute(e)},this.addText=function(e){r.textContent=e},this.getElement=function(){return r}}}},a={};e=function e(t){var r=a[t];if(void 0!==r)return r.exports;var n=a[t]={exports:{}};return o[t](n,n.exports,e),n.exports}(590),t=document.querySelector("[data-universal-form]"),r=document.querySelectorAll("[data-form-notification]"),n=!1,t.addEventListener("submit",(function(o){o.preventDefault(),r.forEach((function(e){Array.from(e.children).forEach((function(e){return e.remove()}))})),function(r){if(!n){n=!0;var o,a=new FormData(r);a.forEach((function(e,t){e&&""!==e.trim()||((o=o||{})[t]=o[t]||[],o[t].push("required_field"))}));var s=a.get("password_new"),i=a.get("password_new_confirm");if(console.log("password_new_confirm",a.get("password_new_confirm")),/\s/.test(s)&&((o=o||{}).password_new=o.password_new||[],o.password_new.push("password_space")),s!==i&&((o=o||{}).password_new_confirm=o.password_new_confirm||[],o.password_new_confirm.push("confirm_password")),o)!function(t){n=!1;var r=function(){var r=document.querySelector("[data-form-notification=".concat(o,"]"));t[o].forEach((function(t){var n=new e.HTML_ELEM("p");n.addText(langData.error[t][lang]),n.addClass("error_notification"),r.appendChild(n.getElement())}))};for(var o in t)r()}(o);else{var c={validate:{},update:{}};a.forEach((function(e,t){switch(t){case"password_current":c.validate.password=e;break;case"token":c.validate._csrf=e;break;case"password_new":c.update.password=e;break;case"password_new_confirm":break;default:throw new Error("Submit Error")}}));var d=t.getAttribute("action");console.log("submit_data"),console.log(JSON.stringify(c)),fetch(d,{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify(c)}).then((function(e){console.log(e),window.location.href=e.url})).catch((function(e){}))}}}(t)}))})();