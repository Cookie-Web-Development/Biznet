(()=>{"use strict";var e={590:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.HTML_ELEM=function e(t){var a=document.createElement(t);this.addElement=function(t){var n=new e(t);return a.appendChild(n.getElement()),n},this.addClass=function(e){a.classList.add(e)},this.addAttribute=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;t?a.setAttribute(e,t):a.setAttribute(e,"")},this.addText=function(e){a.textContent=e},this.addStyle=function(e,t){a.style[e]=t},this.getElement=function(){return a}}}},t={};function a(n){var r=t[n];if(void 0!==r)return r.exports;var d=t[n]={exports:{}};return e[n](d,d.exports,a),d.exports}(()=>{var e=a(590);function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var n=document.documentElement.getAttribute("lang"),r=document.querySelector("[data-search-fields]"),d=JSON.parse(r.dataset.searchFields),i=(JSON.parse(r.dataset.quickQuery),{}),c=document.getElementById("min_range_slider"),o=document.getElementById("max_range_slider"),s=document.getElementById("price_range_display"),l=document.getElementById("range_slider_visual"),u=d.price_range;function m(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.value,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.value,a="hsl(238, 83%, 62%)",n="hsl(360, 0%, 35%)",r=e/u.max*100,d=t/u.max*100;l.style.background="linear-gradient(to right, ".concat(n," 0%, ").concat(n," ").concat(r,"%, ").concat(a," ").concat(r,"%, ").concat(a," ").concat(d,"%, ").concat(n," ").concat(d,"%, ").concat(n," 100%)"),s.textContent="$ ".concat(e," - $ ").concat(t)}[c,o].forEach((function(e){Object.assign(e,{min:u.min,max:u.max,value:e===c?i.price_range_min||u.min:i.price_range_max||u.max})})),m(),c.addEventListener("input",(function(){+c.value>+o.value&&(c.value=o.value),m()})),o.addEventListener("input",(function(){+o.value<+c.value&&(o.value=c.value),m()}));var g,f=document.getElementById("selected_tags"),v=document.getElementById("tags_dropdown").children,_=document.getElementById("tags_filter_input"),h=Array.from(v).map((function(e){return{tag_id:e.dataset.tagId,tag_name_es:e.dataset.tagName_es,tag_name_en:e.dataset.tagName_en}}));function E(){Array.from(f.children).forEach((function(e){e.remove()})),g.length>0&&g.forEach((function(t){var a=new e.HTML_ELEM("li");a.addClass("selected_tag");var r=a.addElement("label"),d=r.addElement("input");d.addAttribute("type","checkbox"),d.addAttribute("checked",!0),d.addAttribute("name","selected_tags"),d.addAttribute("value",t.tag_id),d.addAttribute("data-tag",t.tag_id),r.addElement("span").addText(t.tag_name[n]),f.appendChild(a.getElement())})),document.getElementById("tags_dropdown").dispatchEvent(new Event("input"))}i.selected_tags?i.selected_tags.forEach((function(e){var a,n;g?(a=g).push.apply(a,function(e){if(Array.isArray(e))return t(e)}(n=h.filter((function(t){return t.tag_id==e})))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||function(e,a){if(e){if("string"==typeof e)return t(e,a);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?t(e,a):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()):g=h.filter((function(t){return t.tag_id==e}))})):g=[],E(),_.addEventListener("input",(function(){var t=_.value.toLowerCase();if(""!=t){var a=document.querySelector("[data-filter]");a&&a.remove();var r=0;if(Array.from(v).forEach((function(e){var a=e.dataset.tagName_en.toLowerCase(),n=e.dataset.tagName_es.toLowerCase();a.includes(t)||n.includes(t)?(e.classList.remove("hide"),r++):e.classList.add("hide")})),0==r){var d="es"==n?"Sin resultados":"No results",i=new e.HTML_ELEM("li");i.addText(d),i.addAttribute("data-filter"),document.getElementById("tags_dropdown").appendChild(i.getElement())}}else Array.from(v).forEach((function(e){e.classList.remove("hide")}))})),Array.from(v).forEach((function(e){e.addEventListener("click",(function(e){var t={tag_id:e.target.dataset.tagId,tag_name:{en:e.target.dataset.tagName_en,es:e.target.dataset.tagName_es}};g.push(t),g.sort((function(e,t){return e.tag_name[n]>t.tag_name[n]?1:e.tag_name[n]<t.tag_name[n]?-1:0})),e.target.classList.add("selected"),E(),Array.from(v).forEach((function(e){return e.blur()})),_.value="",_.dispatchEvent(new Event("input"))}))})),f.addEventListener("click",(function(e){e.target.dataset.tag&&(Array.from(v).find((function(t){return t.dataset.tagId==e.target.dataset.tag})).classList.remove("selected"),g=g.filter((function(t){return t.tag_id!=e.target.dataset.tag})),E())})),document.getElementById("search_field_reset").addEventListener("click",(function(){var e=Array.from(document.querySelectorAll("[data-reset]"));g=[],E(),e.forEach((function(e){switch(e.dataset.reset){case"text":e.value="";break;case"select":e.selectedIndex=0;break;case"checkbox":e.checked=!1;break;case"range_min":e.value=u.min,m();break;case"range_max":e.value=u.max,m();break;default:console.log("something wrong with resetBtn")}e.dispatchEvent(new Event("input"))}))}));var p=document.getElementById("catalog_search_form"),y=document.getElementById("search_fields_toggle");y.addEventListener("click",(function(){y.classList.toggle("active"),p.classList.toggle("active")}))})()})();