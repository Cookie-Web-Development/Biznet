doctype html
html(lang=lang)
    head
        include ../partials/_head.pug
    body.company_body 
        include include/_company_header.pug
        main.company_main
            include include/_company_nav.pug
            section.company_workspace
                div(class='company_notification_container' data-noti-container)
                    if flash_message.notification.length > 0
                        each noti in flash_message.notification
                            p(class='green')
                                i(class='fa-solid fa-check')
                                |  
                                | #{langData.notification[noti][lang]}
                    if flash_message.error.length > 0
                        each err in flash_message.error 
                            p(class='red')
                                i(class='fa-solid fa-ban')
                                |  
                                | #{langData.error[err][lang]}
                div(id='table_search')
                    div(class='input_div')
                        select(class='table_search_select' data-table-search-type)
                            option(value='brand_name')=langData.main.search_filter.by_name[lang]
                            option(value='brand_id')=langData.main.search_filter.by_id[lang]
                        input(type='text' placeholder=`${langData.main.search_filter.search[lang]}` data-table-search)
                        button(class='table_search_button' type='button' data-table-search-btn)
                            i(class="fa-solid fa-magnifying-glass")
                        button(class='table_search_button' type='button' data-table-clear-search)
                            i(class='fa-solid fa-eraser')
                h1 Brand edit
                div(class='table_container')
                    table(class='company_db_table') 
                        colgroup
                            col(style='width: 15%')
                            col(style='width: 75%')
                            col(style='width: 10')
                        thead
                            tr 
                                th(scope='col' class='row-center' data-table-sort='brand_id')=langData.data_management.id[lang]
                                th(scope='col' class='row-left' data-table-sort='brand_name')=langData.data_management.brand_name[lang] 
                                th
                                    button(class='table_inline_btn' type='button' title=`${langData.data_management.create[lang]}` data-action-type='create')
                                        i(class='fa-solid fa-square-plus fa-xl')
                        tbody
                            for entry in db_result
                                tr(data-table-row=`${entry.brand_id}`)
                                    td(class='row_center' data-row-key='brand_id' data-row-value=`${entry.brand_id}`)=entry.brand_id
                                    td(class='row_center' data-row-key='brand_name' data-row-value=`${entry.brand_name}`)=entry.brand_name
                                    td(class='row_center' data-table-action-cell=`${entry.brand_id}`)
        footer 
        dialog(class='api_modal' data-table-modal='create')
            h2=langData.data_management.create_entry[lang]
            form(action='brand_edit' method='post' data-method='post' class='api_modal_form' data-modal-action-form='create')
                label=langData.data_management.brand_name[lang]
                    input(class='input_box' name='brand_name' type='text' style='margin-top: 5px;' required)
                input(type='hidden' name='token' value=`${csrf}`)
            div(class='modal_btn_container' style='margin-top:1rem;')
                button(class='button' type='button' data-modal-action-btn='create')=langData.data_management.save[lang]
                button(class='button' type='button' data-close-modal='create')=langData.data_management.cancel[lang]
        dialog(class='api_modal' data-table-modal='update')
            h2=langData.data_management.edit[lang] 
            form(action='brand_edit' method='post' data-method='put' class='api_modal_form' data-modal-action-form='update' data-csrf=`${csrf}`)
            div(class='modal_btn_container')
                button(class='button' type='button' data-modal-action-btn='update')=langData.data_management.save[lang] 
                button(class='button' type='button' data-close-modal='update')=langData.data_management.cancel[lang]
        dialog(class='api_modal' data-table-modal='delete')
            h2
                i(class='fa-solid fa-triangle-exclamation')
                | 
                | #{langData.data_management.delete[lang]} 
            p=langData.data_management.delete_confirm[lang]
            form(action='brand_edit' method='post' data-method='delete' class='api_modal_form' data-modal-action-form='delete' data-csrf=`${csrf}`)
            div(class='modal_btn_container')
                button(class='button' type='button' data-modal-action-btn='delete')
                    i(class='fa-solid fa-triangle-exclamation')
                    | 
                    | #{langData.data_management.delete[lang]}
                    | 
                    i(class='fa-solid fa-triangle-exclamation') 
                button(class='button' type='button' data-close-modal='delete')=langData.data_management.cancel[lang] 
        //- script(type='module' src='/src/client/components/universal_form.js' defer)
        script(type='module' src='/src/client/components/data_table.js' defer)